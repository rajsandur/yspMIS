json_data = {"data": [{"qid": 1, "qtype": "num", "ph": -9.0, "ques": {"english": "Develop and implement an occupational health and safety(OSH)policy? ", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 2, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 2, "qtype": "num", "ph": -9.0, "ques": {"english": "Develop and implement a policy  for health promotion or for prevention of NCDs and NCD risk factors", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 3, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 3, "qtype": "num", "ph": -9.0, "ques": {"english": "Have a designated multi-stakeholder committee to implement health promotion, NCD prevention activities", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 4, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 4, "qtype": "num", "ph": -9.0, "ques": {"english": "Implement a set of guidelines ,  or follow standard guidelines for implementation of NCD & NCD risk factor reduction programmes?", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 5, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 5, "qtype": "num", "ph": -9.0, "ques": {"english": "Have an annual dedicated budget to implement health promotion interventions to reduce NCDs", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 6, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 6, "qtype": "num", "ph": -9.0, "ques": {"english": "Ensure presence of a  designated person to implement health promotion / NCD prevention activities in your workplace", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 7, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 7, "qtype": "num", "ph": -9.0, "ques": {"english": "Develop and implement an yearly action-plan for NCD prevention(or set of activities with measurable targets and specific timelines", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 8, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 8, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct training for occupational health staff or NCD committee members or designated person to implement  NCD programmes in workplaces", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 9, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 9, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide health insurance coverage for workers (for NCDs treatment as well)", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 10, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 10, "qtype": "num", "ph": -9.0, "ques": {"english": "Create a cadre of trained volunteers  to facilitate implementation, participation and sustainability of health programmes", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 11, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 11, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct a yearly situational assessment of NCD prevention or health promotion activities", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 12, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 12, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct yearly screening for NCDs, NCD risk factors or mental disorders", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 13, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 13, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct yearly measurements ( height, weight, blood pressure) for employees", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 14, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 14, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct yearly  Laboratory tests ( blood sugar, cholestrol etc) for employees", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 15, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 15, "qtype": "num", "ph": -9.0, "ques": {"english": "Collect information about NCD risk factors like <b><u>tobacco and alcohol use</u></b> during screening", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 16, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 16, "qtype": "num", "ph": -9.0, "ques": {"english": "Collect information about<b><u> unhealthy dietery practices</u></b>  during screening", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 17, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 17, "qtype": "num", "ph": -9.0, "ques": {"english": "Collect information about <b><u>physical activity/ inactivity </u></b> during screening", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 18, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 18, "qtype": "num", "ph": -9.0, "ques": {"english": "Collect information about <b><u>harmful work stress  during screening</u></b>", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 19, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 19, "qtype": "num", "ph": -9.0, "ques": {"english": "Collect information about <b><u>Psychological distress/ depression/ anxiety / mental morbidity </u></b>  during screening", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 20, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 20, "qtype": "num", "ph": -9.0, "ques": {"english": "Disseminate the findings of the screening to employees at-least once a year", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 21, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 21, "qtype": "num", "ph": -9.0, "ques": {"english": "Involve NCD volunteers from within the organization to conduct screening", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 22, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 22, "qtype": "num", "ph": -9.0, "ques": {"english": "Maintain health data of each employee being screened using appropriate methods? ( formats, health records, case files, digital formats)", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 23, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 23, "qtype": "num", "ph": -9.0, "ques": {"english": "Include  â€˜Tobacco use , alcohol use reduction in existing OSH policy ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 24, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 24, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct yearly identification for tobacco dependence among tobacco users", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 25, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 25, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide or facilitate access for tobacco cessation services ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 26, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 26, "qtype": "num", "ph": -9.0, "ques": {"english": "Communicate regularly, the provisions of the COTPA Act to employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 27, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 27, "qtype": "num", "ph": -9.0, "ques": {"english": "Have a list of resources centers or referral centers to facilitate tobacco cessation services", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 28, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 28, "qtype": "num", "ph": -9.0, "ques": {"english": "Levy fines or impose penalties for tobacco use during working hours ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 29, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 29, "qtype": "num", "ph": -9.0, "ques": {"english": "Train the health staff or other interested employees in assessment of tobacco use and dependence and to provide brief intervention services", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 30, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 30, "qtype": "num", "ph": -9.0, "ques": {"english": "Prohibition the sale of tobacco products on worksite premises", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 31, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 31, "qtype": "num", "ph": -9.0, "ques": {"english": "Collect information on key indicators useful for analyzing progress towards tobacco cessation", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 32, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 32, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct regular IEC, health awareness programmes regarding harm from tobacco for employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 33, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 33, "qtype": "num", "ph": -9.0, "ques": {"english": "Develop and implement specific policy on limiting access to alcohol and reduction of alcohol use", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - ALCOHOL USE", "next_qid": 34, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 34, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide brief intervention (first-aid) services for employees with harmful or dependent alcohol use", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - ALCOHOL USE", "next_qid": 35, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 35, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct random breath testing for alcohol among employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - ALCOHOL USE", "next_qid": 36, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 36, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct capacity building programmes  (to deliver basic alcohol use reduction services)  for health staff and volunteers ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - ALCOHOL USE", "next_qid": 37, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 37, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct educational programmes /provide educational materials to reduce alcohol use", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - ALCOHOL USE", "next_qid": 38, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 38, "qtype": "num", "ph": -9.0, "ques": {"english": "Discourage or limit access to alcohol or use of company funds for alcohol at work sponsored events", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - ALCOHOL USE", "next_qid": 39, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 39, "qtype": "num", "ph": -9.0, "ques": {"english": "Develop and implement policy for promoting physical activity in the workplace", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY", "next_qid": 40, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 40, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide educational materials for promoting physical activity among employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY", "next_qid": 41, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 41, "qtype": "num", "ph": -9.0, "ques": {"english": "Measure and reduce sedentary time of employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY", "next_qid": 42, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 42, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide or subsidize  purchase of equipment for sports/exercise ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY", "next_qid": 43, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 43, "qtype": "num", "ph": -9.0, "ques": {"english": "Promote use of active transportation among employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY", "next_qid": 44, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 44, "qtype": "num", "ph": -9.0, "ques": {"english": "Encourage, facilitate or organize physical activity, sports or exercise related events or programmes at least once a year", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY", "next_qid": 45, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 45, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide facilities or amenities for exercising or sports within the workplace", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY", "next_qid": 46, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 46, "qtype": "num", "ph": -9.0, "ques": {"english": "Implement  a policy for  healthy diet in the workplace", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - HEALTHY DIET", "next_qid": 47, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 47, "qtype": "num", "ph": -9.0, "ques": {"english": "Ensure onsite food outlets or canteens provide  balanced and healthy dining menu", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - HEALTHY DIET", "next_qid": 48, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 48, "qtype": "num", "ph": -9.0, "ques": {"english": "Collaborate with local suppliers or  farmers for providing healthy food options in the workplace ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - HEALTHY DIET", "next_qid": 49, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 49, "qtype": "num", "ph": -9.0, "ques": {"english": "Remove vending machine or vendors who serve fried snacks, aerated drinks and processed foods", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - HEALTHY DIET", "next_qid": 50, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 50, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide nutritional education and counselling for employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - HEALTHY DIET", "next_qid": 51, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 51, "qtype": "num", "ph": -9.0, "ques": {"english": "Training occupational health (OH) team members or NCD volunteers to provide providing nutritional education and counselling services", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - HEALTHY DIET", "next_qid": 52, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 52, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide  lifestyle education and behavioral change communication(for weight reduction) for employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - OVERWEIGHT", "next_qid": 53, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 53, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide counselling services   aimed at reducing weight", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - OVERWEIGHT", "next_qid": 54, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 54, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide facilities (or access to facilities) for self-monitoring of weight ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - OVERWEIGHT", "next_qid": 55, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 55, "qtype": "num", "ph": -9.0, "ques": {"english": "Refer high risk employees for medical interventions to reduce weight", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - OVERWEIGHT", "next_qid": 56, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 56, "qtype": "num", "ph": -9.0, "ques": {"english": "Monitor (Measure) blood pressure and blood sugar of employees regularly ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Raised blood sugar, blood pressure and cholestrol", "next_qid": 57, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 57, "qtype": "num", "ph": -9.0, "ques": {"english": "Refer employees with elevated blood pressure, sugar or cholesterol", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Raised blood sugar, blood pressure and cholestrol", "next_qid": 58, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 58, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct a yearly assessment of policies, programs, activities  to reduce mental health disorders in workplace", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders", "next_qid": 59, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 59, "qtype": "num", "ph": -9.0, "ques": {"english": "Undertake regular screening for common mental disorders and harmful work stress  among employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders", "next_qid": 60, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 60, "qtype": "num", "ph": -9.0, "ques": {"english": "Develop and implement a mental health policy for your  workplace ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders", "next_qid": 61, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 61, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct activities or programmes to improve mental health literacy among employees ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders", "next_qid": 62, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 62, "qtype": "num", "ph": -9.0, "ques": {"english": "Implement a confidential system for grievance redressal or reporting of harrasment", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders", "next_qid": 63, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 63, "qtype": "num", "ph": -9.0, "ques": {"english": "Facilitate access to psychological first-aid services like counselling and referral", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders", "next_qid": 64, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 64, "qtype": "num", "ph": -9.0, "ques": {"english": "Train volunteer employees  to deliver basic mental health services", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders", "next_qid": 65, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 65, "qtype": "num", "ph": -9.0, "ques": {"english": "Develop and monitor indicators pertaning to  mental health ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders", "next_qid": 66, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 66, "qtype": "num", "ph": -9.0, "ques": {"english": "Â Conduct regular surveillance for NCDs, NCD risk factors and mental disorders", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SURVEILLANCE", "next_qid": 67, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 67, "qtype": "num", "ph": -9.0, "ques": {"english": "Have specific indicators and targets for  surveillance of NCDs, NCD risk and common mental disorders", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SURVEILLANCE", "next_qid": 68, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 68, "qtype": "num", "ph": -9.0, "ques": {"english": "Communicate  status of indicators and targets  to senior management and employees at least once a year", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SURVEILLANCE", "next_qid": 69, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 69, "qtype": "num", "ph": -9.0, "ques": {"english": "Include  senior or mid-level management  employee in the workplace NCD or OSH committee", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY", "next_qid": 70, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 70, "qtype": "num", "ph": -9.0, "ques": {"english": "Involve senior management  to preside over key programmes, award ceremonies  implemented to reduce NCDs in the workplace", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY", "next_qid": 71, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 71, "qtype": "num", "ph": -9.0, "ques": {"english": "Identify and train a sample of interested employees as NCD volunteers", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY", "next_qid": 72, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 72, "qtype": "num", "ph": -9.0, "ques": {"english": "Have a reward system focusing on health of employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY", "next_qid": 73, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 73, "qtype": "num", "ph": -9.0, "ques": {"english": "Get certifications or accreditation for  NCD control and prevention efforts", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY", "next_qid": 74, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 74, "qtype": "num", "ph": -9.0, "ques": {"english": "Participate in ongoing national health  programmes (NPCDCS , NMHP) for NCDs and mental health", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY", "next_qid": 75, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 75, "qtype": "num", "ph": -9.0, "ques": {"english": "Have a tie-up with nearby medical colleges for   capacity building, data analysis , monitoring and surveillance?", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY", "next_qid": 0, "scoring_required": "-9", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}],"sections":[{"name":"MACRO LEVEL INTERVENTIONS","summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"},{"name":"SITUATIONAL ASSESSMENT AND SCREENING","summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"},{"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE","summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"}, {"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - ALCOHOL USE","summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"},{"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY","summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"},{"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - HEALTHY DIET","summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"},{"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - OVERWEIGHT","summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"},{"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Raised blood sugar, blood pressure and cholestrol","summary":""},{"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders","summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"},{"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SURVEILLANCE" ,"summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"},{"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY" ,"summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"}],"heading":"NCD-FEASOMETER"}


var res = []

function validatesection(section){
    
    //alert(section)
    var data_payload = []
    starting_question_idx=0;
    ending_question_idx=0;
    breakflag=false;
    for(var i=0; i<json_data.data.length; i++){
        
        //alert(json_data.data[i].qid)
        if (json_data.data[i].section == section){
            if(starting_question_idx==0){
                 //starting_question=json_data.data[i].qid
                 starting_question_idx=i
                 breakflag=true
            }
             
        }else if(breakflag==true){
            ending_question_idx=i-1
            //ending_question=json_data.data[i-1].qid
            break
        }     
        
    } 
    
    var enterdata=[]
    var selectdata=[]
    document.getElementById(section+'_msg1').innerHTML = ''
    
   // alert("starting_question_idx"+starting_question_idx)
    //alert("starting_question_idx"+ending_question_idx)
    //Iterate through section questions
    for(var i=starting_question_idx-1; i<=ending_question_idx; i++){
        
        var ques_type = json_data.data[i].qtype

		if(json_data.data[i].mandatory == "True"){
			if(ques_type == 'text'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				//data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})
               // alert((json_data.data[i].qid).toString()+':text:'+val)
				if(val.length == 0){
					enterdata.push(json_data.data[i].qid)
                    document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "red"
                    //flag = 1
				}else{
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "black"
                }
			}else if(ques_type == 'num'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				//data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})
                //alert((json_data.data[i].qid).toString()+':num:'+val)
				if(val =='' || parseInt(val) < 0 || parseInt(val) == NaN){
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "red"
					enterdata.push(json_data.data[i].qid)
                    //flag = 2
				}else{
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "black"
                }
			}else if(ques_type == 'date'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				//data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})
                //alert((json_data.data[i].qid).toString()+':date:'+val)
				if(val.length == 0){
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "red"
					enterdata.push(json_data.data[i].qid)
                    //flag = 3
				}else{
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "black"
                }
			}else if(ques_type == 'radio' || ques_type == 'f_radio'){
				
				//data_payload.push({'qid': json_data.data[i].qid, 'selection_val': json_data.data[i].selection_val})

				//console.log(json_data.data[i].selection_val)
                //alert((json_data.data[i].qid).toString()+':radio:'+val)
				if(json_data.data[i].selection_val == undefined || json_data.data[i].selection_val.length == 0){
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "red"
					selectdata.push(json_data.data[i].qid)
                    //flag = 5
				}else{
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "black"
                }

			}else if(ques_type == 'options'){
				
				//data_payload.push({'qid': json_data.data[i].qid, 'selection_val': json_data.data[i].selection_val})

				//console.log(json_data.data[i].selection_val)
                // alert((json_data.data[i].qid).toString()+':options:'+val)
				if(json_data.data[i].selection_val == undefined || json_data.data[i].selection_val.length == 0){
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "red"
					selectdata.push(json_data.data[i].qid)
                    //flag = 4
				}else{
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "black"
                }

			}
		}else{
			if(ques_type == 'text'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				//data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})

			}else if(ques_type == 'num'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				//data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})

			}
		}
        
    }
    
    enterquestions=''
    selectquestion=''
    message=''
    for(var i=0;i<enterdata.length;i++){
        
       // alert('enter'+i)
        enterquestions=enterquestions+'-'+enterdata[i].toString()
        //alert('enter'+enterdata[i])
    }
    
    for(var i=0;i<selectdata.length;i++){
        // alert('enter'+i)
         selectquestion=selectquestion+'-'+selectdata[i].toString()
        //alert('select'+selectdata[i])
    }
    
    if(enterquestions!=''){
        
        //alert('Please enter right information for questions '+enterquestions)
        message = 'Please enter right information for questions '+enterquestions
        document.getElementById(section+'_msg1').innerHTML = 'Please enter right information for questions '+enterquestions
    }
    
    if(selectquestion!=''){
        
        //alert('Please select right information for questions '+selectquestion)
        document.getElementById(section+'_msg2').innerHTML = 'Please select right information for questions '+selectquestion
    }
    
     if(enterquestions ==''&& selectquestion==''){
        
        //alert("Thanks for entering all details. Please move down to next section")
        document.getElementById(section+'_msg1').style.display = 'none'
        document.getElementById(section+'_msg2').style.display = 'none'
        document.getElementById(section+'_msg3').innerHTML="Thanks for entering all details. Please move down to next section"
    }
    //mandatory, it should have data or be selected.
    // Set the selected value
    
    //alert(starting_question_idx-1)
    //alert(ending_question_idx)
}

function select_radio(qid, element_id){

	var radio_element = document.getElementById('q'+qid+'_'+element_id)

	var element_count = json_data.data[parseInt(qid)-1]['ans'].length
    
    //alert(qid)
    //alert(element_id)

	json_data.data[parseInt(qid)-1].selection_val = parseInt(element_id)

	for(var i=0; i<element_count; i++){
		if((i+1) != parseInt(element_id)){
			var ele = document.getElementById('q'+qid+'_'+(i+1).toString())
			ele.classList.remove("btn-rose")
		}
	}

	radio_element.classList.add("btn-rose")
    

	//If the option selected for question 5 is Absent (option 2) ,then the user should skip to question 18
    if(parseInt(qid) == 5 ){
        
        new_qid_i=parseInt(qid) + 1
        new_qid = (parseInt(qid) + 1).toString()
        last_question_i=17
        last_question=last_question_i.toString()
		
        //If the selected option is Present (2nd option). Else, it should skip the next question few questions
		if(parseInt(element_id) == 2){
			 for(var i=new_qid_i; i<=last_question_i; i++){
			     new_qid=parseInt(i).toString()
                 document.getElementById('q_'+new_qid+'_q').style.display = 'block'
      		     document.getElementById('q_'+new_qid+'_ig').style.display = 'block'
            }
		}else{
			for(var i=new_qid_i; i<=last_question_i; i++){
			     new_qid=parseInt(i).toString()
                 document.getElementById('q_'+new_qid+'_q').style.display = 'none'
      		     document.getElementById('q_'+new_qid+'_ig').style.display = 'none'

      		     json_data.data[parseInt(new_qid)-1].selection_val = parseInt(element_id)
            }
		}
	}
}

function calculate_score(){

	//macro = 14 - 25
	//situational = 26 - 46
    //situational = 26 - 46
    //47-56-interventions
    //57-67 - tobacco
    //68-74- alcohol
    //75-82-inactivity
    //83-89 - healthy diet
    //90-93-overweight
    //94-96-dia-bp
    //97-102 - harmful workstress
    //103-110 - mental
    //112-115-surve
    //116-124-sustainability

    macro_score = 0
    macro_feasibility_score=0
    macro_max=22
    macro_questions=0
    macro_feasibility_avg=0
    macro_score_percentage=0
    
	for(var i=0; i<=9; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			//macro_score += parseInt(json_data.data[i].ans[aid - 1].value_id)
            macro_feasibility_score += aid
            macro_questions=macro_questions+1
            //alert(macro_feasibility_score)
		}
	}
    //macro_score_percentage=parseInt((macro_score/macro_max)*100)
    macro_feasibility_avg=parseInt(macro_feasibility_score/macro_questions)
    //alert(macro_feasibility_avg)

    situational_score = 0
    situational_feasibility_score=0
    situational_max=27
    situational_questions=0
    situational_feasibility_avg=0
    situational_score_percentage=0
	situational_score = 0
    
    for(var i=10; i<=21; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			//situational_score += parseInt(json_data.data[i].ans[aid - 1].value_id)
            situational_questions=situational_questions+1
            situational_feasibility_score += aid
		}
	}
    //situational_score_percentage=parseInt((situational_score/situational_max)*100)
    situational_feasibility_avg=parseInt(situational_feasibility_score/situational_questions)
    
    
    
    tobacco_score = 0
    tobacco_feasibility_score=0
    tobacco_max=13
    tobacco_questions=0
    tobacco_feasibility_avg=0
    tobacco_score_percentage=0
	tobacco_score = 0
    
    for(var i=22; i<=31; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			//tobacco_score += parseInt(json_data.data[i].ans[aid - 1].value_id)
            tobacco_feasibility_score +=aid
            tobacco_questions=tobacco_questions+1
		}
	}
   // tobacco_score_percentage=parseInt((tobacco_score/tobacco_max)*100)
    tobacco_feasibility_avg=parseInt(tobacco_feasibility_score/tobacco_questions)
    
    alcohol_score = 0
    alcohol_feasibility_score=0
    alcohol_max=9
    alcohol_questions=0
    alcohol_feasibility_avg=0
    alcohol_score_percentage=0
	alcohol_score = 0
    
    for(var i=32; i<=37; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			alcohol_score += aid
            alcohol_questions=alcohol_questions+1
           
		}
	}
   // alcohol_score_percentage=parseInt((alcohol_score/alcohol_max)*100)
    alcohol_feasibility_avg=parseInt(alcohol_feasibility_score/alcohol_questions)
    
    inactivity_score = 0
    inactivity_feasibility_score=0
    inactivity_max=11
    inactivity_questions=0
    inactivity_feasibility_avg=0
    inactivity_score_percentage=0
	inactivity_score = 0
    
    for(var i=38; i<=44; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
            inactivity_feasibility_score += aid
            inactivity_questions=inactivity_questions+1
            
		}
	}
    
    inactivity_feasibility_avg=parseInt(inactivity_feasibility_score/inactivity_questions)
    
    healthydiet_score = 0
    healthydiet_feasibility_score=0
    healthydiet_max=7
    healthydiet_questions=0
    healthydiet_feasibility_avg=0
    healthydiet_score_percentage=0
	healthydiet_score = 0
    
    for(var i=45; i<=50; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			
            healthydiet_questions=healthydiet_questions+1
            healthydiet_feasibility_score += aid
		}
	}
    //healthydiet_score_percentage=parseInt((healthydiet_score/healthydiet_max)*100)
    healthydiet_feasibility_avg=parseInt(healthydiet_feasibility_score/healthydiet_questions)
    
    overweight_score = 0
    overweight_feasibility_score=0
    overweight_max=4
    overweight_questions=0
    overweight_feasibility_avg=0
    overweight_score_percentage=0
	overweight_score = 0
    
    for(var i=51; i<=54; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			//overweight_score += parseInt(json_data.data[i].ans[aid - 1].value_id)
            overweight_questions=overweight_questions+1
            overweight_feasibility_score += aid 
		}
	}
    
    overweight_feasibility_avg=parseInt(overweight_feasibility_score/overweight_questions)
    
    
    diabp_score = 0
    diabp_feasibility_score=0
    diabp_max=3
    diabp_questions=0
    diabp_feasibility_avg=0
    diabp_score_percentage=0
	diabp_score = 0
    
    for(var i=55; i<=56; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			//diabp_score += parseInt(json_data.data[i].ans[aid - 1].value_id)
            diabp_feasibility_score += aid
            diabp_questions=diabp_questions+1
            
		}
	}
    //diabp_score_percentage=parseInt((diabp_score/diabp_max)*100)
   diabp_feasibility_avg=parseInt(diabp_feasibility_score/diabp_questions)
    
    harmfulstress_score = 0
    harmfulstress_feasibility_score=0
    harmfulstress_max=8
    harmfulstress_questions=6
    harmfulstress_feasibility_avg=0
    harmfulstress_score_percentage=0
	harmfulstress_score = 0
    
    for(var i=73; i<=78; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			harmfulstress_score += parseInt(json_data.data[i].ans[aid - 1].value_id)
            //harmfulstress_feasibility_score += parseInt(json_data.data[i].feasibility_score)
		}
	}
    harmfulstress_score_percentage=parseInt((harmfulstress_score/harmfulstress_max)*100)
    //harmfulstress_feasibility_avg=parseInt(harmfulstress_feasibility_score/harmfulstress_questions)
    
    mental_score = 0
    mental_feasibility_score=0
    mental_max=12
    mental_questions=8
    mental_feasibility_avg=0
    mental_score_percentage=0
	mental_score = 0
    
    for(var i=57; i<=64; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			
           mental_feasibility_score += aid
           mental_questions=mental_questions+1
            
		}
	}

    mental_feasibility_avg=parseInt(mental_feasibility_score/mental_questions)
    
    surveillance_score = 0
    surveillance_feasibility_score=0
    surveillance_max=6
    surveillance_questions=0
    surveillance_feasibility_avg=0
    surveillance_score_percentage=0
	surveillance_score = 0
    
    for(var i=65; i<=67; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			//surveillance_score += parseInt(json_data.data[i].ans[aid - 1].value_id)
            surveillance_feasibility_score += aid
            surveillance_questions=surveillance_questions+1
		}
	}
    
    surveillance_feasibility_avg=parseInt(surveillance_feasibility_score/surveillance_questions)
    
    sustainability_score = 0
    sustainability_feasibility_score=0
    sustainability_max=10
    sustainability_questions=0
    sustainability_feasibility_avg=0
    sustainability_score_percentage=0
	sustainability_score = 0
    
    for(var i=68; i<=74; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			
            sustainability_questions=sustainability_questions+1
            sustainability_feasibility_score += aid
            
		}
	}
    
   sustainability_feasibility_avg=parseInt(sustainability_feasibility_score/sustainability_questions)
	

	/*console.log(work_stress_score, symptoms_score)

	msgs = {"work_stress": "", "symptoms": ""}

	if(work_stress_score <= 48){
		msgs.work_stress = work_stress_msg[0].msg
	}else if(work_stress_score > 48 && work_stress_score <= 59){
		msgs.work_stress = work_stress_msg[1].msg
	}else if(work_stress_score > 59 && work_stress_score <= 73){
		msgs.work_stress = work_stress_msg[2].msg
	}else if(work_stress_score > 73){
		msgs.work_stress = work_stress_msg[3].msg
	}

	if(symptoms_score <= 16){
		msgs.symptoms = symptoms_msg[0].msg
	}else if(symptoms_score > 16 && symptoms_score <= 29){
		msgs.symptoms = symptoms_msg[1].msg
	}else if(symptoms_score > 29 && symptoms_score <= 36){
		msgs.symptoms = symptoms_msg[2].msg
	}else if(symptoms_score > 36){
		msgs.symptoms = symptoms_msg[3].msg
	}*/
    
    var table_content = [
		{
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>MACRO LEVEL INTERVENTIONS</span>",
			//"score": macro_score_percentage,
           "feasibility":macro_feasibility_avg
            //"maxScore":macro_max,
            //"questions":macro_questions
		},
		{
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SITUATIONAL ASSESSMENT AND SCREENING</span>",
			//"score": situational_score_percentage,
            "feasibility":situational_feasibility_avg
            //"maxScore":situational_max,
            //"questions":situational_questions
		},
		
		{
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE</span>",
			//"score": tobacco_score_percentage,
            "feasibility":tobacco_feasibility_avg
            //"maxScore":tobacco_max,
            //"questions":tobacco_questions
		},
        {
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - ALCOHOL USE</span>",
			//"score": alcohol_score_percentage,
            "feasibility":alcohol_feasibility_avg
            //"maxScore":alcohol_max,
            //"questions":alcohol_questions
		},
        {
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY</span>",
			//"score": inactivity_score_percentage,
            "feasibility":inactivity_feasibility_avg
            //"maxScore":inactivity_max,
            //"questions":inactivity_questions
		},
        {
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - HEALTHY DIET</span>",
			//"score": healthydiet_score_percentage,
            "feasibility":healthydiet_feasibility_avg
            //"maxScore":healthydiet_max,
            //"questions":healthydiet_questions
		},
        {
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - OVERWEIGHT</span>",
			//"score": overweight_score_percentage,
            "feasibility":overweight_feasibility_avg
            //"maxScore":overweight_max,
            //"questions":overweight_questions
		},
        {
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Raised blood sugar, blood pressure and cholestrol</span>",
			//"score": diabp_score_percentage,
            "feasibility":diabp_feasibility_avg
            //"maxScore":diabp_max,
           // "questions":diabp_questions
		},
        {
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Harmful work stress</span>",
			//"score": harmfulstress_score_percentage,
            "feasibility":harmfulstress_feasibility_avg
            //"maxScore":harmfulstress_max,
            //"questions":harmfulstress_questions
		},
        {
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders</span>",
			//"score": mental_score_percentage,
            "feasibility":mental_feasibility_avg
            //"maxScore":mental_max,
            //"questions":mental_questions
		},
        {
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SURVEILLANCE </span>",
			//"score": surveillance_score_percentage,
            "feasibility":surveillance_feasibility_avg
            //"maxScore":surveillance_max,
            //"questions":surveillance_questions
		},
        {
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY </span>",
			//"score": sustainability_score_percentage,
            "feasibility":sustainability_feasibility_avg
            //"maxScore":sustainability_max,
            //"questions":sustainability_questions
		}
    
	]

	return table_content

}

function checkValid(field_id, field_range){

	//console.log(field_id, field_range)

    var val = document.getElementById(field_id).value

    if (val < 0 || val > parseInt(field_range)){
        document.getElementById(field_id).value = ''
        alert('Please enter values <='+field_range)
    }
}

function captureFeasibiliy(qid){
    
    
    //Capture the fasibility score for all questions between 14 and 124
   
        //q_14_feasibility_data
        feasibility_score=0;
        if (document.getElementById('q_'+qid+'_feasibility_data').value==''){
            feasibility_score=0
        }else{
            feasibility_score=document.getElementById('q_'+qid+'_feasibility_data').value
            //alert('here')
        }
        
        if (feasibility_score < 0 || feasibility_score > 10){
        document.getElementById('q_'+qid+'_feasibility_data').value = ''
        alert('Please enter values less than 10 only')
        } else{
        
        json_data.data[parseInt(qid)-1].selection_val = feasibility_score
        }
        
        
    
    
}


function on_submit(){
	var flag = 0

	var data_payload = []

	for(var i=0; i<json_data.data.length; i++){
		
		var ques_type = json_data.data[i].qtype

		
		if(json_data.data[i].mandatory == "True"){
			if(ques_type == 'text'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})

				if(val.length == 0){
					flag = 1
				}
			}else if(ques_type == 'num'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})

				if(parseInt(val) < 0 || parseInt(val) == NaN){
					flag = 2
				}
			}else if(ques_type == 'date'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})

				if(val.length == 0){
					flag = 3
				}
			}else if(ques_type == 'radio'){
				
				data_payload.push({'qid': json_data.data[i].qid, 'selection_val': json_data.data[i].selection_val})

				//console.log(json_data.data[i].selection_val)

				if(json_data.data[i].selection_val == undefined || json_data.data[i].selection_val.length == 0){
					flag = 5
				}

			}
		}else{
			if(ques_type == 'text'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})

json_data = {"data": [{"qid": 1, "qtype": "num", "ph": -9.0, "ques": {"english": "Develop and implement an occupational health and safety(OSH)policy? ", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 2, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 2, "qtype": "num", "ph": -9.0, "ques": {"english": "Develop and implement a policy  for health promotion or for prevention of NCDs and NCD risk factors", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 3, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 3, "qtype": "num", "ph": -9.0, "ques": {"english": "Have a designated multi-stakeholder committee to implement health promotion, NCD prevention activities", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 4, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 4, "qtype": "num", "ph": -9.0, "ques": {"english": "Implement a set of guidelines ,  or follow standard guidelines for implementation of NCD & NCD risk factor reduction programmes?", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 5, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 5, "qtype": "num", "ph": -9.0, "ques": {"english": "Have an annual dedicated budget to implement health promotion interventions to reduce NCDs", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 6, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 6, "qtype": "num", "ph": -9.0, "ques": {"english": "Ensure presence of a  designated person to implement health promotion / NCD prevention activities in your workplace", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 7, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 7, "qtype": "num", "ph": -9.0, "ques": {"english": "Develop and implement an yearly action-plan for NCD prevention(or set of activities with measurable targets and specific timelines", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 8, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 8, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct training for occupational health staff or NCD committee members or designated person to implement  NCD programmes in workplaces", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 9, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 9, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide health insurance coverage for workers (for NCDs treatment as well)", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 10, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 10, "qtype": "num", "ph": -9.0, "ques": {"english": "Create a cadre of trained volunteers  to facilitate implementation, participation and sustainability of health programmes", "kannada": ""}, "question_information": "-9.0", "section": "MACRO LEVEL INTERVENTIONS", "next_qid": 11, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 11, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct a yearly situational assessment of NCD prevention or health promotion activities", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 12, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 12, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct yearly screening for NCDs, NCD risk factors or mental disorders", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 13, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 13, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct yearly measurements ( height, weight, blood pressure) for employees", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 14, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 14, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct yearly  Laboratory tests ( blood sugar, cholestrol etc) for employees", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 15, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 15, "qtype": "num", "ph": -9.0, "ques": {"english": "Collect information about NCD risk factors like <b><u>tobacco and alcohol use</u></b> during screening", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 16, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 16, "qtype": "num", "ph": -9.0, "ques": {"english": "Collect information about<b><u> unhealthy dietery practices</u></b>  during screening", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 17, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 17, "qtype": "num", "ph": -9.0, "ques": {"english": "Collect information about <b><u>physical activity/ inactivity </u></b> during screening", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 18, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 18, "qtype": "num", "ph": -9.0, "ques": {"english": "Collect information about <b><u>harmful work stress  during screening</u></b>", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 19, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 19, "qtype": "num", "ph": -9.0, "ques": {"english": "Collect information about <b><u>Psychological distress/ depression/ anxiety / mental morbidity </u></b>  during screening", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 20, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 20, "qtype": "num", "ph": -9.0, "ques": {"english": "Disseminate the findings of the screening to employees at-least once a year", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 21, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 21, "qtype": "num", "ph": -9.0, "ques": {"english": "Involve NCD volunteers from within the organization to conduct screening", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 22, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 22, "qtype": "num", "ph": -9.0, "ques": {"english": "Maintain health data of each employee being screened using appropriate methods? ( formats, health records, case files, digital formats)", "kannada": ""}, "question_information": "-9.0", "section": "SITUATIONAL ASSESSMENT AND SCREENING", "next_qid": 23, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 23, "qtype": "num", "ph": -9.0, "ques": {"english": "Include  â€˜Tobacco use , alcohol use reduction in existing OSH policy ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 24, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 24, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct yearly identification for tobacco dependence among tobacco users", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 25, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 25, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide or facilitate access for tobacco cessation services ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 26, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 26, "qtype": "num", "ph": -9.0, "ques": {"english": "Communicate regularly, the provisions of the COTPA Act to employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 27, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 27, "qtype": "num", "ph": -9.0, "ques": {"english": "Have a list of resources centers or referral centers to facilitate tobacco cessation services", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 28, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 28, "qtype": "num", "ph": -9.0, "ques": {"english": "Levy fines or impose penalties for tobacco use during working hours ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 29, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 29, "qtype": "num", "ph": -9.0, "ques": {"english": "Train the health staff or other interested employees in assessment of tobacco use and dependence and to provide brief intervention services", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 30, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 30, "qtype": "num", "ph": -9.0, "ques": {"english": "Prohibition the sale of tobacco products on worksite premises", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 31, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 31, "qtype": "num", "ph": -9.0, "ques": {"english": "Collect information on key indicators useful for analyzing progress towards tobacco cessation", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 32, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 32, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct regular IEC, health awareness programmes regarding harm from tobacco for employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE", "next_qid": 33, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 33, "qtype": "num", "ph": -9.0, "ques": {"english": "Develop and implement specific policy on limiting access to alcohol and reduction of alcohol use", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - ALCOHOL USE", "next_qid": 34, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 34, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide brief intervention (first-aid) services for employees with harmful or dependent alcohol use", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - ALCOHOL USE", "next_qid": 35, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 35, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct random breath testing for alcohol among employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - ALCOHOL USE", "next_qid": 36, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 36, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct capacity building programmes  (to deliver basic alcohol use reduction services)  for health staff and volunteers ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - ALCOHOL USE", "next_qid": 37, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 37, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct educational programmes /provide educational materials to reduce alcohol use", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - ALCOHOL USE", "next_qid": 38, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 38, "qtype": "num", "ph": -9.0, "ques": {"english": "Discourage or limit access to alcohol or use of company funds for alcohol at work sponsored events", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - ALCOHOL USE", "next_qid": 39, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 39, "qtype": "num", "ph": -9.0, "ques": {"english": "Develop and implement policy for promoting physical activity in the workplace", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY", "next_qid": 40, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 40, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide educational materials for promoting physical activity among employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY", "next_qid": 41, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 41, "qtype": "num", "ph": -9.0, "ques": {"english": "Measure and reduce sedentary time of employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY", "next_qid": 42, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 42, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide or subsidize  purchase of equipment for sports/exercise ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY", "next_qid": 43, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 43, "qtype": "num", "ph": -9.0, "ques": {"english": "Promote use of active transportation among employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY", "next_qid": 44, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 44, "qtype": "num", "ph": -9.0, "ques": {"english": "Encourage, facilitate or organize physical activity, sports or exercise related events or programmes at least once a year", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY", "next_qid": 45, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 45, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide facilities or amenities for exercising or sports within the workplace", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY", "next_qid": 46, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 46, "qtype": "num", "ph": -9.0, "ques": {"english": "Implement  a policy for  healthy diet in the workplace", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - HEALTHY DIET", "next_qid": 47, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 47, "qtype": "num", "ph": -9.0, "ques": {"english": "Ensure onsite food outlets or canteens provide  balanced and healthy dining menu", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - HEALTHY DIET", "next_qid": 48, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 48, "qtype": "num", "ph": -9.0, "ques": {"english": "Collaborate with local suppliers or  farmers for providing healthy food options in the workplace ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - HEALTHY DIET", "next_qid": 49, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 49, "qtype": "num", "ph": -9.0, "ques": {"english": "Remove vending machine or vendors who serve fried snacks, aerated drinks and processed foods", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - HEALTHY DIET", "next_qid": 50, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 50, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide nutritional education and counselling for employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - HEALTHY DIET", "next_qid": 51, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 51, "qtype": "num", "ph": -9.0, "ques": {"english": "Training occupational health (OH) team members or NCD volunteers to provide providing nutritional education and counselling services", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - HEALTHY DIET", "next_qid": 52, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 52, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide  lifestyle education and behavioral change communication(for weight reduction) for employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - OVERWEIGHT", "next_qid": 53, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 53, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide counselling services   aimed at reducing weight", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - OVERWEIGHT", "next_qid": 54, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 54, "qtype": "num", "ph": -9.0, "ques": {"english": "Provide facilities (or access to facilities) for self-monitoring of weight ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - OVERWEIGHT", "next_qid": 55, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 55, "qtype": "num", "ph": -9.0, "ques": {"english": "Refer high risk employees for medical interventions to reduce weight", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - OVERWEIGHT", "next_qid": 56, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 56, "qtype": "num", "ph": -9.0, "ques": {"english": "Monitor (Measure) blood pressure and blood sugar of employees regularly ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Raised blood sugar, blood pressure and cholestrol", "next_qid": 57, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 57, "qtype": "num", "ph": -9.0, "ques": {"english": "Refer employees with elevated blood pressure, sugar or cholesterol", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Raised blood sugar, blood pressure and cholestrol", "next_qid": 58, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 58, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct a yearly assessment of policies, programs, activities  to reduce mental health disorders in workplace", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders", "next_qid": 59, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 59, "qtype": "num", "ph": -9.0, "ques": {"english": "Undertake regular screening for common mental disorders and harmful work stress  among employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders", "next_qid": 60, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 60, "qtype": "num", "ph": -9.0, "ques": {"english": "Develop and implement a mental health policy for your  workplace ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders", "next_qid": 61, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 61, "qtype": "num", "ph": -9.0, "ques": {"english": "Conduct activities or programmes to improve mental health literacy among employees ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders", "next_qid": 62, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 62, "qtype": "num", "ph": -9.0, "ques": {"english": "Implement a confidential system for grievance redressal or reporting of harrasment", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders", "next_qid": 63, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 63, "qtype": "num", "ph": -9.0, "ques": {"english": "Facilitate access to psychological first-aid services like counselling and referral", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders", "next_qid": 64, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 64, "qtype": "num", "ph": -9.0, "ques": {"english": "Train volunteer employees  to deliver basic mental health services", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders", "next_qid": 65, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 65, "qtype": "num", "ph": -9.0, "ques": {"english": "Develop and monitor indicators pertaning to  mental health ", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders", "next_qid": 66, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 66, "qtype": "num", "ph": -9.0, "ques": {"english": "Â Conduct regular surveillance for NCDs, NCD risk factors and mental disorders", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SURVEILLANCE", "next_qid": 67, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 67, "qtype": "num", "ph": -9.0, "ques": {"english": "Have specific indicators and targets for  surveillance of NCDs, NCD risk and common mental disorders", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SURVEILLANCE", "next_qid": 68, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 68, "qtype": "num", "ph": -9.0, "ques": {"english": "Communicate  status of indicators and targets  to senior management and employees at least once a year", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SURVEILLANCE", "next_qid": 69, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 69, "qtype": "num", "ph": -9.0, "ques": {"english": "Include  senior or mid-level management  employee in the workplace NCD or OSH committee", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY", "next_qid": 70, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 70, "qtype": "num", "ph": -9.0, "ques": {"english": "Involve senior management  to preside over key programmes, award ceremonies  implemented to reduce NCDs in the workplace", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY", "next_qid": 71, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 71, "qtype": "num", "ph": -9.0, "ques": {"english": "Identify and train a sample of interested employees as NCD volunteers", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY", "next_qid": 72, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 72, "qtype": "num", "ph": -9.0, "ques": {"english": "Have a reward system focusing on health of employees", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY", "next_qid": 73, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 73, "qtype": "num", "ph": -9.0, "ques": {"english": "Get certifications or accreditation for  NCD control and prevention efforts", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY", "next_qid": 74, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 74, "qtype": "num", "ph": -9.0, "ques": {"english": "Participate in ongoing national health  programmes (NPCDCS , NMHP) for NCDs and mental health", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY", "next_qid": 75, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}, {"qid": 75, "qtype": "num", "ph": -9.0, "ques": {"english": "Have a tie-up with nearby medical colleges for   capacity building, data analysis , monitoring and surveillance?", "kannada": ""}, "question_information": "-9.0", "section": "SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY", "next_qid": 0, "scoring_required": "True", "mandatory": "True", "capture_specifics": "False", "follow_up": "False", "ans": [], "range": 10}],"sections":[{"name":"MACRO LEVEL INTERVENTIONS","summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"},{"name":"SITUATIONAL ASSESSMENT AND SCREENING","summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"},{"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE","summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"}, {"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - ALCOHOL USE","summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"},{"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY","summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"},{"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - HEALTHY DIET","summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"},{"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - OVERWEIGHT","summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"},{"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Raised blood sugar, blood pressure and cholestrol","summary":""},{"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders","summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"},{"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SURVEILLANCE" ,"summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"},{"name":"SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY" ,"summary":"PLEASE RESPOND TO THE BELOW QUESTIONS CONISIDERING AN IMPLEMENTATION  TIME PERIOD OF LAST 12 MONTHS"}],"heading":"NCD-FEASOMETER"}


var res = []

function validatesection(section){
    
    //alert(section)
    var data_payload = []
    starting_question_idx=0;
    ending_question_idx=0;
    breakflag=false;
    for(var i=0; i<json_data.data.length; i++){
        
        //alert(json_data.data[i].qid)
        if (json_data.data[i].section == section){
            if(starting_question_idx==0){
                 //starting_question=json_data.data[i].qid
                 starting_question_idx=i
                 breakflag=true
            }
             
        }else if(breakflag==true){
            ending_question_idx=i-1
            //ending_question=json_data.data[i-1].qid
            break
        }     
        
    } 
    
    var enterdata=[]
    var selectdata=[]
    document.getElementById(section+'_msg1').innerHTML = ''
    
   // alert("starting_question_idx"+starting_question_idx)
    //alert("starting_question_idx"+ending_question_idx)
    //Iterate through section questions
    for(var i=starting_question_idx-1; i<=ending_question_idx; i++){
        
        var ques_type = json_data.data[i].qtype

		if(json_data.data[i].mandatory == "True"){
			if(ques_type == 'text'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				//data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})
               // alert((json_data.data[i].qid).toString()+':text:'+val)
				if(val.length == 0){
					enterdata.push(json_data.data[i].qid)
                    document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "red"
                    //flag = 1
				}else{
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "black"
                }
			}else if(ques_type == 'num'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				//data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})
                //alert((json_data.data[i].qid).toString()+':num:'+val)
				if(val =='' || parseInt(val) < 0 || parseInt(val) == NaN){
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "red"
					enterdata.push(json_data.data[i].qid)
                    //flag = 2
				}else{
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "black"
                }
			}else if(ques_type == 'date'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				//data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})
                //alert((json_data.data[i].qid).toString()+':date:'+val)
				if(val.length == 0){
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "red"
					enterdata.push(json_data.data[i].qid)
                    //flag = 3
				}else{
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "black"
                }
			}else if(ques_type == 'radio' || ques_type == 'f_radio'){
				
				//data_payload.push({'qid': json_data.data[i].qid, 'selection_val': json_data.data[i].selection_val})

				//console.log(json_data.data[i].selection_val)
                //alert((json_data.data[i].qid).toString()+':radio:'+val)
				if(json_data.data[i].selection_val == undefined || json_data.data[i].selection_val.length == 0){
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "red"
					selectdata.push(json_data.data[i].qid)
                    //flag = 5
				}else{
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "black"
                }

			}else if(ques_type == 'options'){
				
				//data_payload.push({'qid': json_data.data[i].qid, 'selection_val': json_data.data[i].selection_val})

				//console.log(json_data.data[i].selection_val)
                // alert((json_data.data[i].qid).toString()+':options:'+val)
				if(json_data.data[i].selection_val == undefined || json_data.data[i].selection_val.length == 0){
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "red"
					selectdata.push(json_data.data[i].qid)
                    //flag = 4
				}else{
                     document.getElementById('q_'+json_data.data[i].qid+'_q').style.color = "black"
                }

			}
		}else{
			if(ques_type == 'text'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				//data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})

			}else if(ques_type == 'num'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				//data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})

			}
		}
        
    }
    
    enterquestions=''
    selectquestion=''
    message=''
    for(var i=0;i<enterdata.length;i++){
        
       // alert('enter'+i)
        enterquestions=enterquestions+'-'+enterdata[i].toString()
        //alert('enter'+enterdata[i])
    }
    
    for(var i=0;i<selectdata.length;i++){
        // alert('enter'+i)
         selectquestion=selectquestion+'-'+selectdata[i].toString()
        //alert('select'+selectdata[i])
    }
    
    if(enterquestions!=''){
        
        //alert('Please enter right information for questions '+enterquestions)
        message = 'Please enter right information for questions '+enterquestions
        document.getElementById(section+'_msg1').innerHTML = 'Please enter right information for questions '+enterquestions
    }
    
    if(selectquestion!=''){
        
        //alert('Please select right information for questions '+selectquestion)
        document.getElementById(section+'_msg2').innerHTML = 'Please select right information for questions '+selectquestion
    }
    
     if(enterquestions ==''&& selectquestion==''){
        
        //alert("Thanks for entering all details. Please move down to next section")
        document.getElementById(section+'_msg1').style.display = 'none'
        document.getElementById(section+'_msg2').style.display = 'none'
        document.getElementById(section+'_msg3').innerHTML="Thanks for entering all details. Please move down to next section"
    }
    //mandatory, it should have data or be selected.
    // Set the selected value
    
    //alert(starting_question_idx-1)
    //alert(ending_question_idx)
}

function select_radio(qid, element_id){

	var radio_element = document.getElementById('q'+qid+'_'+element_id)

	var element_count = json_data.data[parseInt(qid)-1]['ans'].length
    
    //alert(qid)
    //alert(element_id)

	json_data.data[parseInt(qid)-1].selection_val = parseInt(element_id)

	for(var i=0; i<element_count; i++){
		if((i+1) != parseInt(element_id)){
			var ele = document.getElementById('q'+qid+'_'+(i+1).toString())
			ele.classList.remove("btn-rose")
		}
	}

	radio_element.classList.add("btn-rose")
    

	//If the option selected for question 5 is Absent (option 2) ,then the user should skip to question 18
    if(parseInt(qid) == 5 ){
        
        new_qid_i=parseInt(qid) + 1
        new_qid = (parseInt(qid) + 1).toString()
        last_question_i=17
        last_question=last_question_i.toString()
		
        //If the selected option is Present (2nd option). Else, it should skip the next question few questions
		if(parseInt(element_id) == 2){
			 for(var i=new_qid_i; i<=last_question_i; i++){
			     new_qid=parseInt(i).toString()
                 document.getElementById('q_'+new_qid+'_q').style.display = 'block'
      		     document.getElementById('q_'+new_qid+'_ig').style.display = 'block'
            }
		}else{
			for(var i=new_qid_i; i<=last_question_i; i++){
			     new_qid=parseInt(i).toString()
                 document.getElementById('q_'+new_qid+'_q').style.display = 'none'
      		     document.getElementById('q_'+new_qid+'_ig').style.display = 'none'

      		     json_data.data[parseInt(new_qid)-1].selection_val = parseInt(element_id)
            }
		}
	}
}

function calculate_score(){

	//macro = 14 - 25
	//situational = 26 - 46
    //situational = 26 - 46
    //47-56-interventions
    //57-67 - tobacco
    //68-74- alcohol
    //75-82-inactivity
    //83-89 - healthy diet
    //90-93-overweight
    //94-96-dia-bp
    //97-102 - harmful workstress
    //103-110 - mental
    //112-115-surve
    //116-124-sustainability

    macro_score = 0
    macro_feasibility_score=0
    macro_max=22
    macro_questions=0
    macro_feasibility_avg=0
    macro_score_percentage=0
    
	for(var i=0; i<=9; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			//macro_score += parseInt(json_data.data[i].ans[aid - 1].value_id)
            macro_feasibility_score += aid
            macro_questions=macro_questions+1
            //alert(macro_feasibility_score)
		}
	}
    //macro_score_percentage=parseInt((macro_score/macro_max)*100)
    macro_feasibility_avg=parseInt(macro_feasibility_score/macro_questions)
    //alert(macro_feasibility_avg)

    situational_score = 0
    situational_feasibility_score=0
    situational_max=27
    situational_questions=0
    situational_feasibility_avg=0
    situational_score_percentage=0
	situational_score = 0
    
    for(var i=10; i<=21; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
            //alert("aid"+aid)
			//situational_score += parseInt(json_data.data[i].ans[aid - 1].value_id)
            situational_questions=situational_questions+1
             //alert("sit"+situational_questions)
            situational_feasibility_score += aid
               //alert("sitscore"+situational_feasibility_score)
		}
	}
    //situational_score_percentage=parseInt((situational_score/situational_max)*100)
    //alert(situational_feasibility_score)
   // alert(situational_questions)
    situational_feasibility_avg=parseInt(situational_feasibility_score/situational_questions)
    
    
    
    tobacco_score = 0
    tobacco_feasibility_score=0
    tobacco_max=13
    tobacco_questions=0
    tobacco_feasibility_avg=0
    tobacco_score_percentage=0
	tobacco_score = 0
    
    for(var i=22; i<=31; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			//tobacco_score += parseInt(json_data.data[i].ans[aid - 1].value_id)
            tobacco_feasibility_score +=aid
            tobacco_questions=tobacco_questions+1
		}
	}
   // tobacco_score_percentage=parseInt((tobacco_score/tobacco_max)*100)
    tobacco_feasibility_avg=parseInt(tobacco_feasibility_score/tobacco_questions)
    
    alcohol_score = 0
    alcohol_feasibility_score=0
    alcohol_max=9
    alcohol_questions=0
    alcohol_feasibility_avg=0
    alcohol_score_percentage=0
	alcohol_score = 0
    
    for(var i=32; i<=37; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			alcohol_feasibility_score += aid
            alcohol_questions=alcohol_questions+1
           
		}
	}
   // alcohol_score_percentage=parseInt((alcohol_score/alcohol_max)*100)
    alcohol_feasibility_avg=parseInt(alcohol_feasibility_score/alcohol_questions)
    
    inactivity_score = 0
    inactivity_feasibility_score=0
    inactivity_max=11
    inactivity_questions=0
    inactivity_feasibility_avg=0
    inactivity_score_percentage=0
	inactivity_score = 0
    
    for(var i=38; i<=44; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
            inactivity_feasibility_score += aid
            inactivity_questions=inactivity_questions+1
            
		}
	}
    
    inactivity_feasibility_avg=parseInt(inactivity_feasibility_score/inactivity_questions)
    
    healthydiet_score = 0
    healthydiet_feasibility_score=0
    healthydiet_max=7
    healthydiet_questions=0
    healthydiet_feasibility_avg=0
    healthydiet_score_percentage=0
	healthydiet_score = 0
    
    for(var i=45; i<=50; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			
            healthydiet_questions=healthydiet_questions+1
            healthydiet_feasibility_score += aid
		}
	}
    //healthydiet_score_percentage=parseInt((healthydiet_score/healthydiet_max)*100)
    healthydiet_feasibility_avg=parseInt(healthydiet_feasibility_score/healthydiet_questions)
    
    overweight_score = 0
    overweight_feasibility_score=0
    overweight_max=4
    overweight_questions=0
    overweight_feasibility_avg=0
    overweight_score_percentage=0
	overweight_score = 0
    
    for(var i=51; i<=54; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			//overweight_score += parseInt(json_data.data[i].ans[aid - 1].value_id)
            overweight_questions=overweight_questions+1
            overweight_feasibility_score += aid 
		}
	}
    
    overweight_feasibility_avg=parseInt(overweight_feasibility_score/overweight_questions)
    
    
    diabp_score = 0
    diabp_feasibility_score=0
    diabp_max=3
    diabp_questions=0
    diabp_feasibility_avg=0
    diabp_score_percentage=0
	diabp_score = 0
    
    for(var i=55; i<=56; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			//diabp_score += parseInt(json_data.data[i].ans[aid - 1].value_id)
            diabp_feasibility_score += aid
            diabp_questions=diabp_questions+1
            
		}
	}
    //diabp_score_percentage=parseInt((diabp_score/diabp_max)*100)
   diabp_feasibility_avg=parseInt(diabp_feasibility_score/diabp_questions)
    
    harmfulstress_score = 0
    harmfulstress_feasibility_score=0
    harmfulstress_max=8
    harmfulstress_questions=6
    harmfulstress_feasibility_avg=0
    harmfulstress_score_percentage=0
	harmfulstress_score = 0
    
    /*for(var i=73; i<=78; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			harmfulstress_score += parseInt(json_data.data[i].ans[aid - 1].value_id)
            //harmfulstress_feasibility_score += parseInt(json_data.data[i].feasibility_score)
		}
	}
    harmfulstress_score_percentage=parseInt((harmfulstress_score/harmfulstress_max)*100)*/
    //harmfulstress_feasibility_avg=parseInt(harmfulstress_feasibility_score/harmfulstress_questions)
    
    mental_score = 0
    mental_feasibility_score=0
    mental_max=12
    mental_questions=0
    mental_feasibility_avg=0
    mental_score_percentage=0
	mental_score = 0
    
    for(var i=57; i<=64; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			
           mental_feasibility_score += aid
           mental_questions=mental_questions+1
            
		}
	}

    mental_feasibility_avg=parseInt(mental_feasibility_score/mental_questions)
    
    surveillance_score = 0
    surveillance_feasibility_score=0
    surveillance_max=6
    surveillance_questions=0
    surveillance_feasibility_avg=0
    surveillance_score_percentage=0
	surveillance_score = 0
    
    for(var i=65; i<=67; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			//surveillance_score += parseInt(json_data.data[i].ans[aid - 1].value_id)
            surveillance_feasibility_score += aid
            surveillance_questions=surveillance_questions+1
		}
	}
    
    surveillance_feasibility_avg=parseInt(surveillance_feasibility_score/surveillance_questions)
    
    sustainability_score = 0
    sustainability_feasibility_score=0
    sustainability_max=10
    sustainability_questions=0
    sustainability_feasibility_avg=0
    sustainability_score_percentage=0
	sustainability_score = 0
    
    for(var i=68; i<=74; i++){
		if("selection_val" in json_data.data[i] && json_data.data[i].scoring_required == "True"){
			aid = parseInt(json_data.data[i].selection_val)
			
            sustainability_questions=sustainability_questions+1
            sustainability_feasibility_score += aid
            
		}
	}
    
   sustainability_feasibility_avg=parseInt(sustainability_feasibility_score/sustainability_questions)
	

	/*console.log(work_stress_score, symptoms_score)

	msgs = {"work_stress": "", "symptoms": ""}

	if(work_stress_score <= 48){
		msgs.work_stress = work_stress_msg[0].msg
	}else if(work_stress_score > 48 && work_stress_score <= 59){
		msgs.work_stress = work_stress_msg[1].msg
	}else if(work_stress_score > 59 && work_stress_score <= 73){
		msgs.work_stress = work_stress_msg[2].msg
	}else if(work_stress_score > 73){
		msgs.work_stress = work_stress_msg[3].msg
	}

	if(symptoms_score <= 16){
		msgs.symptoms = symptoms_msg[0].msg
	}else if(symptoms_score > 16 && symptoms_score <= 29){
		msgs.symptoms = symptoms_msg[1].msg
	}else if(symptoms_score > 29 && symptoms_score <= 36){
		msgs.symptoms = symptoms_msg[2].msg
	}else if(symptoms_score > 36){
		msgs.symptoms = symptoms_msg[3].msg
	}*/
    
    var table_content = [
		{
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>MACRO LEVEL INTERVENTIONS</span>",
			//"score": macro_score_percentage,
           "feasibility":macro_feasibility_avg
            //"maxScore":macro_max,
            //"questions":macro_questions
		},
		{
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SITUATIONAL ASSESSMENT AND SCREENING</span>",
			//"score": situational_score_percentage,
            "feasibility":situational_feasibility_avg
            //"maxScore":situational_max,
            //"questions":situational_questions
		},
		
		{
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - TOBACCO USE</span>",
			//"score": tobacco_score_percentage,
            "feasibility":tobacco_feasibility_avg
            //"maxScore":tobacco_max,
            //"questions":tobacco_questions
		},
        {
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - ALCOHOL USE</span>",
			//"score": alcohol_score_percentage,
            "feasibility":alcohol_feasibility_avg
            //"maxScore":alcohol_max,
            //"questions":alcohol_questions
		},
        {
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - PHYSICAL INACTIVITY</span>",
			//"score": inactivity_score_percentage,
            "feasibility":inactivity_feasibility_avg
            //"maxScore":inactivity_max,
            //"questions":inactivity_questions
		},
        {
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - HEALTHY DIET</span>",
			//"score": healthydiet_score_percentage,
            "feasibility":healthydiet_feasibility_avg
            //"maxScore":healthydiet_max,
            //"questions":healthydiet_questions
		},
        {
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - OVERWEIGHT</span>",
			//"score": overweight_score_percentage,
            "feasibility":overweight_feasibility_avg
            //"maxScore":overweight_max,
            //"questions":overweight_questions
		},
        {
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Raised blood sugar, blood pressure and cholestrol</span>",
			//"score": diabp_score_percentage,
            "feasibility":diabp_feasibility_avg
            //"maxScore":diabp_max,
           // "questions":diabp_questions
		},
        {
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - Common Mental Disorders</span>",
			//"score": mental_score_percentage,
            "feasibility":mental_feasibility_avg
            //"maxScore":mental_max,
            //"questions":mental_questions
		},
        {
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SURVEILLANCE </span>",
			//"score": surveillance_score_percentage,
            "feasibility":surveillance_feasibility_avg
            //"maxScore":surveillance_max,
            //"questions":surveillance_questions
		},
        {
			"Section": "<span style='color: #FBC02D; font-weight: 550;'>SYSTEMS AND SERVICE LEVEL INTERVENTIONS - SUSTAINABILITY </span>",
			//"score": sustainability_score_percentage,
            "feasibility":sustainability_feasibility_avg
            //"maxScore":sustainability_max,
            //"questions":sustainability_questions
		}
    
	]

	return table_content

}

function checkValid(field_id, field_range){

	//console.log(field_id, field_range)

    var val = document.getElementById(field_id).value

    if (val < 0 || val > parseInt(field_range)){
        document.getElementById(field_id).value = ''
        alert('Please enter values <='+field_range)
    }
}

function captureFeasibiliy(qid){
    
    
    //Capture the fasibility score for all questions between 14 and 124
   
        //q_14_feasibility_data
        feasibility_score=0;
        if (document.getElementById('q_'+qid+'_data').value==''){
            feasibility_score=0
        }else{
            feasibility_score=document.getElementById('q_'+qid+'_data').value
            //alert('here')
        }
        
        if (feasibility_score < 0 || feasibility_score > 10){
        document.getElementById('q_'+qid+'_data').value = ''
        alert('Please enter values less than 10 only')
        } else{
        
        json_data.data[parseInt(qid)-1].selection_val = feasibility_score
        }
        
        
    
    
}


function on_submit(){
	var flag = 0

	var data_payload = []

	for(var i=0; i<json_data.data.length; i++){
		
		var ques_type = json_data.data[i].qtype

		
		if(json_data.data[i].mandatory == "True"){
			if(ques_type == 'text'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})

				if(val.length == 0){
					flag = 1
				}
			}else if(ques_type == 'num'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})

				if(parseInt(val) < 0 || parseInt(val) == NaN){
					flag = 2
				}
			}else if(ques_type == 'date'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})

				if(val.length == 0){
					flag = 3
				}
			}else if(ques_type == 'radio'){
				
				data_payload.push({'qid': json_data.data[i].qid, 'selection_val': json_data.data[i].selection_val})

				//console.log(json_data.data[i].selection_val)

				if(json_data.data[i].selection_val == undefined || json_data.data[i].selection_val.length == 0){
					flag = 5
				}

			}
		}else{
			if(ques_type == 'text'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})

			}else if(ques_type == 'num'){
				var val = document.getElementById('q_'+(json_data.data[i].qid).toString()+'_data').value

				json_data.data[i].selection_val = val

				data_payload.push({'qid': json_data.data[i].qid, 'selection_val': val})

			}
		}

	}

	if(flag == 0){

		var scores = calculate_score()
        
        //localStorage.setItem('_macro_score', scores[0].score)
		localStorage.setItem('_macro_fasibility', scores[0].feasibility)
        
        //localStorage.setItem('_screening_score', scores[1].score)
		localStorage.setItem('_screening_fasibility', scores[1].feasibility)
        
        
		localStorage.setItem('_tobacco_fasibility', scores[2].feasibility)
        
        //localStorage.setItem('_alcohol_score', scores[4].score)
		localStorage.setItem('_alcohol_fasibility', scores[3].feasibility)
        
        //localStorage.setItem('_inactivity_score', scores[5].score)
		localStorage.setItem('_inactivity_fasibility', scores[4].feasibility)
        
        //localStorage.setItem('_diet_score', scores[6].score)
		localStorage.setItem('_diet_fasibility', scores[5].feasibility)
        
        //localStorage.setItem('_ow_score', scores[7].score)
		localStorage.setItem('_ow_fasibility', scores[6].feasibility)
        
        //localStorage.setItem('_sugar_score', scores[8].score)
		localStorage.setItem('_sugar_fasibility', scores[7].feasibility)
        
        
        
		localStorage.setItem('_mental_fasibility', scores[8].feasibility)
        
        //localStorage.setItem('_surv_score', scores[11].score)
		localStorage.setItem('_surv_fasibility', scores[9].feasibility)
        
        //localStorage.setItem('_sust_score', scores[12].score)
		localStorage.setItem('_sust_fasibility', scores[10].feasibility)

		
		document.getElementById('done_spinner').style.display = 'block'

		var xhttp = new XMLHttpRequest();
	    xhttp.onreadystatechange = function() {
	        if (this.readyState == 4 && this.status == 200) {
	          //console.log(this.responseText);
	          window.location.href = '/ncdfeasibility_score'
	        }
	    };
	    xhttp.open("POST", "/add_ncdfeasometer_assessment", true);
	    xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
	    xhttp.send('data='+encodeURIComponent(JSON.stringify(data_payload)));

	    console.log(JSON.stringify(data_payload))

	}else if(flag == 1){
		alert('Please answer all the text questions')
	}else if(flag == 2){
		alert('Please answer all the numeric questions')
	}else if(flag == 3){
		alert('Please answer all the date questions')
	}else if(flag == 4){
		alert('Please answer all the selection questions')
	}else if(flag == 5){
		alert('Please answer all the questions')
	}else if(flag == 6){
		alert('Please answer all the checkbox questions')
	}
    
}
